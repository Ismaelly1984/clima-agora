/* Additional responsive + mobile drawer styles */
#menuToggle{display:none}
.site-header nav{display:flex;gap:8px;align-items:center;flex-wrap:wrap;justify-content:center;flex:1 1 auto}
.nav-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);backdrop-filter:blur(2px);z-index:98;opacity:0;pointer-events:none;transition:opacity .2s ease}
.nav-backdrop.show{opacity:1;pointer-events:auto}
.mobile-nav{position:fixed;top:0;left:0;bottom:0;width:min(86vw,320px);background:var(--glass-bg);border-right:1px solid var(--glass-border);box-shadow:var(--shadow);z-index:99;transform:translateX(-100%);transition:transform .22s ease;padding:16px;backdrop-filter:blur(10px)}
.mobile-nav.open{transform:translateX(0)}
.mobile-nav nav{display:flex;flex-direction:column;gap:8px}
@media (max-width: 900px){.site-header nav{display:none}#menuToggle{display:inline-flex}}

/* CTA de instalar (discreto) */
.home-actions{margin:4px 2px 10px}
.install-cta{display:inline-flex;align-items:center;gap:6px;background:transparent;border:none;color:var(--text-muted);font-size:14px;padding:4px 0;cursor:pointer}
.install-cta svg{width:18px;height:18px;opacity:.9}
.install-cta:hover{color:var(--text)}
.install-cta:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px;border-radius:6px}

/* Consistência de links (texto), sem afetar botões de navegação */
main a:not(.secondary-btn):not(.chip){
  color: var(--text);
  text-decoration: underline;
  text-underline-offset: 2px;
  text-decoration-color: rgba(59,130,246,.5);
}
main a:not(.secondary-btn):not(.chip):hover{ text-decoration-color: var(--color-primary); }
footer a{ color: var(--text-muted); text-decoration: underline; text-underline-offset: 2px; text-decoration-color: rgba(59,130,246,.45); }
footer a:hover{ text-decoration-color: var(--color-primary); color: var(--text); }

/* Mobile: botão instalar apenas no menu lateral */
@media (max-width: 900px){
  .home-actions, footer .install-cta { display: none !important; }
}

/* ---------- Responsividade adicional ---------- */
/* Telas grandes: ampliar largura útil */
@media (min-width: 1200px){
  .site-header{max-width: 1200px}
  .container{max-width: 1200px}
}

/* Tablets (600–900px): compactar paddings e tipografia */
@media (max-width: 900px) and (min-width: 600px){
  .site-header{padding:16px 14px}
  .container{padding:12px 14px 40px}
  .weather-card{padding:16px}
}

/* Mobile <= 480px: reduzir espaçamentos e ícones maiores/menores conforme contexto */
@media (max-width: 480px){
  .site-header{padding:12px 10px}
  .brand-title{font-size:16px}
  .brand-icon{width:24px;height:24px}
  .container{padding:10px 12px 36px}
  .primary-btn,.secondary-btn,.toggle-btn{padding:10px 12px;font-size:14px;min-height:44px}
  input#cityInput{padding:10px 12px}
  .weather-icon{width:72px;height:72px}
  .temperature{font-size:24px}
  .forecast-card{min-height:108px}
  .today-row{grid-auto-columns:minmax(120px,1fr)}
  .forecast-row{grid-auto-columns:minmax(110px,1fr)}
  .weather-extra{grid-template-columns:1fr}
  #menuToggle.icon-btn{min-height:44px}
}

/* Mobile muito estreito <= 360px: ajustes finos de largura */
@media (max-width: 360px){
  .forecast-row{grid-auto-columns:minmax(100px,1fr)}
  .today-row{grid-auto-columns:minmax(110px,1fr)}
  .description{font-size:16px}
  .forecast-desc{font-size:12px}
  .forecast-pop,.forecast-rain{font-size:11px}
  .forecast-time{font-size:13px}
}

/* Safe-area (iOS notch) */
@supports (padding: max(0px)){
  .site-header{
    padding-top: max(16px, env(safe-area-inset-top));
    padding-left: calc(16px + env(safe-area-inset-left));
    padding-right: calc(16px + env(safe-area-inset-right));
  }
  .container{
    padding-left: calc(clamp(12px, 3vw, 20px) + env(safe-area-inset-left));
    padding-right: calc(clamp(12px, 3vw, 20px) + env(safe-area-inset-right));
    padding-bottom: calc(48px + env(safe-area-inset-bottom));
  }
  footer.container{
    padding-bottom: calc(36px + env(safe-area-inset-bottom));
  }
  .mobile-nav{
    padding-top: calc(16px + env(safe-area-inset-top));
    padding-bottom: calc(16px + env(safe-area-inset-bottom));
    padding-left: calc(16px + env(safe-area-inset-left));
  }
}

/* Alturas de cards por contexto */
@media (min-width: 900px){
  .forecast-card{min-height: 132px}
  .today-card{min-height: 140px}
}
